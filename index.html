// app/page.tsx
import { useState, FormEvent } from 'react';
import Head from 'next/head';
import Image from 'next/image';
import Link from 'next/link';

export default function Home() {
  const [email, setEmail] = useState('');
  const [honeypot, setHoneypot] = useState('');
  const [timestamp, setTimestamp] = useState(0);

  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (honeypot.trim().length > 0 || (Date.now() - timestamp) < 2000) {
      alert('Inzending geweigerd.');
      return;
    }
    // TODO: Submit to API
    console.log('Newsletter submitted:', email);
    alert('Aanmelding succesvol!');
    setEmail('');
  };

  useState(() => {
    setTimestamp(Date.now());
  });

  return (
    <>
      <Head>
        <title>TrAIveller.ai â€“ jouw slimme AI-reisplanner</title>
        <meta name="description" content="TrAIveller.ai vergelijkt razendsnel vluchten, cruises en stays. Vul je intake in en krijg 3 slimme opties: beste prijs, beste kwaliteit, handigst." />
        <meta name="theme-color" content="#0b0f1a" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" type="image/png" sizes="32x32" href="/images/traiveller-logo.png" />
        <link rel="apple-touch-icon" href="/images/traiveller-logo.png" />
      </Head>
      <style jsx global>{`
        :root{
          --bg:#0b0f1a;
          --fg:#e9eef7;
          --muted:#a9b7cd;
          --card:#0f172a;
          --cta:#facc15;
          --cta-hover:#eab308;
          --cta-active:#ca8a04;
          --ring: 0 0 0 3px rgba(250,204,21,.35);
          --shadow: 0 12px 40px rgba(0,0,0,.35);
          --radius: 16px;
          --maxw: 1200px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
          margin:0;
          font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
          color:var(--fg); background:var(--bg);
          -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
        }
        a{color:inherit; text-decoration:none}
        img{max-width:100%; height:auto; display:block}

        /* Header */
        .site-header{
          position:fixed; inset:0 0 auto 0; z-index:50;
          backdrop-filter:saturate(140%) blur(6px);
          background:linear-gradient(180deg, rgba(2,6,23,.75), rgba(2,6,23,.35) 60%, transparent);
        }
        .nav{
          max-width:var(--maxw); margin:0 auto; padding:.8rem 1rem;
          display:flex; align-items:center; justify-content:space-between; gap:1rem;
        }
        .brand{display:flex; align-items:center; gap:.6rem}
        .brand img{width:36px; height:36px; border-radius:8px}
        .brand span{font-weight:700; letter-spacing:.2px}
        .nav-links{display:flex; gap:1rem; align-items:center}
        .nav-links a{opacity:.9}
        .nav-links a:hover{opacity:1}

        .cta-mini{
          display:inline-flex; align-items:center; gap:.5rem;
          background:var(--cta); color:#1a1a1a; font-weight:700;
          padding:.55rem .9rem; border-radius:12px;
          box-shadow:var(--shadow);
        }
        .cta-mini:focus-visible{outline:none; box-shadow:var(--ring)}
        .cta-mini:hover{background:var(--cta-hover)}
        .cta-mini:active{background:var(--cta-active)}

        /* Hero */
        .hero{
          position:relative; min-height:100dvh; display:grid; place-items:center; overflow:hidden;
          background:#000;
        }
        .hero::before{
          content:""; position:absolute; inset:0;
          background:url('/images/hero-beach.jpg') center/cover no-repeat fixed;
          filter: saturate(110%) contrast(105%);
          transform:scale(1.02);
        }
        .hero::after{
          content:""; position:absolute; inset:0;
          background:linear-gradient(180deg, rgba(2,6,23,.75), rgba(2,6,23,.35) 40%, rgba(2,6,23,.85));
        }
        .hero-inner{
          position:relative; z-index:1; width:min(100%, 880px);
          padding:6rem 1rem 3rem; text-align:center;
        }
        .brand-logo{
          width: clamp(120px, 12vw, 180px);
          height:auto; margin-inline:auto; filter: drop-shadow(0 10px 20px rgba(0,0,0,.45));
        }
        .hero-title{
          margin:1rem auto .75rem; font-size:clamp(1.6rem, 3.6vw, 2.6rem); line-height:1.15;
          font-weight:800; letter-spacing:.2px;
          text-shadow: 0 2px 16px rgba(0,0,0,.35);
        }
        .hero-sub{
          margin:0 auto 1.4rem; max-width:48ch; color:var(--muted);
          font-size:clamp(.95rem, 1.6vw, 1.05rem);
        }
        .hero-cta{
          display:inline-flex; gap:.8rem; align-items:center; flex-wrap:wrap; justify-content:center;
          margin-top:1rem;
        }
        .btn{
          display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
          padding: .9rem 1.2rem; border-radius:14px; font-weight:700;
          box-shadow:var(--shadow); transition:transform .12s ease;
        }
        .btn-primary{background:var(--cta); color:#1a1a1a}
        .btn-primary:hover{background:var(--cta-hover); transform:translateY(-1px)}
        .btn-primary:active{background:var(--cta-active); transform:translateY(0)}
        .btn-ghost{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); color:#fff}
        .btn-ghost:hover{background:rgba(255,255,255,.12)}

        /* Trust */
        .trust{
          max-width:var(--maxw); margin:-1.2rem auto 0; padding:0 1rem;
          display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.8rem;
        }
        .trust .chip{
          background:rgba(255,255,255,.08);
          border:1px solid rgba(255,255,255,.12);
          border-radius:999px; padding:.55rem .9rem; text-align:center; font-size:.92rem;
        }
        @media (min-width:700px){
          .trust{grid-template-columns:repeat(4,minmax(0,1fr))}
        }

        /* Feature cards */
        .section{padding:3rem 1rem}
        .container{max-width:var(--maxw); margin:0 auto}
        .grid{
          display:grid; gap:1rem;
          grid-template-columns:1fr;
        }
        @media (min-width:860px){
          .grid{grid-template-columns:repeat(3, minmax(0,1fr))}
        }
        .card{
          background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
          border:1px solid rgba(255,255,255,.12);
          border-radius:var(--radius); padding:1.1rem; box-shadow:var(--shadow);
          min-height: 180px; display:flex; flex-direction:column; gap:.6rem;
        }
        .card h3{margin:.2rem 0; font-size:1.1rem}
        .card p{margin:0; color:var(--muted); font-size:.98rem}

        /* Newsletter (met honeypot) */
        .newsletter{
          margin-top:1rem; display:grid; gap:.6rem;
          background:rgba(255,255,255,.06);
          border:1px solid rgba(255,255,255,.12);
          border-radius:var(--radius); padding:1rem;
        }
        .row{display:flex; gap:.6rem; flex-wrap:wrap}
        .input{
          flex:1 1 220px; min-width:0;
          padding:.9rem 1rem; border-radius:12px; border:1px solid rgba(255,255,255,.18);
          background:rgba(2,6,23,.65); color:var(--fg);
        }
        .input::placeholder{color:#9bb1c7}
        .submit{padding:.9rem 1.1rem; border-radius:12px; border:0; font-weight:700;
          background:var(--cta); color:#1a1a1a}
        .submit:hover{background:var(--cta-hover)}
        .hint{color:var(--muted); font-size:.9rem}

        /* Footer */
        footer{
          padding:2rem 1rem; color:#c3cfdf; background:#060b16; border-top:1px solid rgba(255,255,255,.08)
        }
        .foot{
          max-width:var(--maxw); margin:0 auto; display:flex; flex-wrap:wrap; gap:1rem; align-items:center; justify-content:space-between;
        }

        /* A11y prefers-reduced-motion */
        @media (prefers-reduced-motion: reduce){
          .btn, .btn-primary:hover{transition:none; transform:none}
          .hero::before{background-attachment:scroll}
        }
      `}</style>
      <header className="site-header" role="banner">
        <nav className="nav" aria-label="Hoofdnavigatie">
          <Link className="brand" href="/" aria-label="TrAIveller.ai">
            <Image src="/images/traiveller-logo.png" alt="TrAIveller.ai logo" width={36} height={36} priority />
            <span>TrAIveller.ai</span>
          </Link>
          <div className="nav-links">
            <Link href="/intake">Intake</Link>
            <Link href="/resultaten">Resultaten</Link>
            <Link href="/over-ons">Over ons</Link>
            <Link href="/privacy">Privacy</Link>
            <Link className="cta-mini" href="/intake" aria-label="Start nu je slimme intake">Start nu</Link>
          </div>
        </nav>
      </header>

      <main className="hero">
        <div className="hero-inner">
          <Image className="brand-logo" src="/images/traiveller-logo.png" alt="TrAIveller.ai" width={180} height={180} priority />
          <h1 className="hero-title">Slimme reisopties in seconden</h1>
          <p className="hero-sub">
            EÃ©n intake. Drie opties: <strong>beste prijs</strong>, <strong>handigst</strong>, <strong>beste kwaliteit</strong>. 
            Vluchten, cruises en accommodaties â€” klaar voor boeking.
          </p>
          <div className="hero-cta" role="group" aria-label="Belangrijke acties">
            <Link className="btn btn-primary" href="/intake">Plan mijn slimme reis</Link>
            <Link className="btn btn-ghost" href="/resultaten">Bekijk voorbeeldresultaten</Link>
          </div>

          <div className="trust" aria-label="Kernvoordelen">
            <div className="chip">ðŸ‡³ðŸ‡± AMS / RTM / EIN</div>
            <div className="chip">ðŸ”’ Privacy-first</div>
            <div className="chip">âš¡ Supersnel</div>
            <div className="chip">ðŸ§  AI-aangedreven</div>
          </div>
        </div>
      </main>

      <section className="section">
        <div className="container">
          <div className="grid" aria-label="Functies">
            <article className="card">
              <h3>Verras me-modus</h3>
              <p>Kies budget, data en flexibiliteit â€” wij kiezen drie gave matches die bij je vibes passen.</p>
            </article>
            <article className="card">
              <h3>Vluchten & Cruise</h3>
              <p>Filters op direct/tussenstop, klasse & cruise-specifieke voorkeuren (regio, duur, hut-type, vertrekhaven).</p>
            </article>
            <article className="card">
              <h3>Klaar voor uitbreiding</h3>
              <p>Gebouwd voor API-koppelingen (Kiwi/Skyscanner/Booking/Amadeus) en database logging in volgende fases.</p>
            </article>
          </div>

          <form className="newsletter" onSubmit={handleSubmit} method="post">
            <div className="row" role="group" aria-label="Aanmelden">
              <input
                className="input"
                type="email"
                name="email"
                placeholder="Jouw e-mail voor updates (optioneel)"
                autoComplete="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
              />
              <button className="submit" type="submit">Hou me op de hoogte</button>
            </div>
            <p className="hint">We sturen alleen relevante updates. Uitschrijven kan altijd.</p>

            <div style={{ position: 'absolute', left: '-9999px' }} aria-hidden="true">
              <label>Laat dit veld leeg:
                <input
                  type="text"
                  name="company"
                  tabIndex={-1}
                  autoComplete="off"
                  value={honeypot}
                  onChange={(e) => setHoneypot(e.target.value)}
                />
              </label>
            </div>
            <input type="hidden" name="ts" value={timestamp} />
          </form>
        </div>
      </section>

      <footer>
        <div className="foot">
          <small>Â© {new Date().getFullYear()} TrAIveller.ai â€” Alle rechten voorbehouden.</small>
          <small><Link href="/privacy">Privacy</Link> Â· <Link href="/over-ons">Over ons</Link></small>
        </div>
      </footer>
    </>
  );
}






